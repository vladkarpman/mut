# Buffer verification integration test
# Tests that verify_screen uses buffer correctly

config:
  app: com.google.android.calculator

setup:
  - terminate_app
  - launch_app
  - wait: 2s

teardown:
  - terminate_app

tests:
  - name: Buffer Verification Test
    description: Verify screen states are captured and verified via buffer
    timeout: 60s
    steps:
      # Initial state
      - verify_screen: "Calculator app showing number pad"

      # Perform calculation
      - tap: "5"
      - tap: "+"
      - tap: "3"
      - tap: "="

      # Verify result - this should use buffer
      - verify_screen: "Calculator showing result 8"

      # Clear and verify
      - tap: "AC"
      - verify_screen: "Calculator cleared, showing 0 or empty display"
